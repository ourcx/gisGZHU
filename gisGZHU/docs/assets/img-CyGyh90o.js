import{f as L,_ as S,r as p,w as B,b as D,S as N,b9 as T,I as j,a9 as C,W as a,ba as U,U as d,V as e,Z as s,$ as g,a1 as Q,au as A,Q as E,T as w,a7 as k,at as x,X as I,as as R,Y as _,a0 as r,a3 as z,L as P,ar as W,a2 as Y}from"./index-CfmI3EZv.js";import{a as Z,b as $,Q as F}from"./QAvatar-BlF93fHr.js";import{Q as G,a as H}from"./QToolbar-B3cSTvKj.js";import{Q as J,a as K,C as M}from"./QChip-Dl5li-6K.js";import"./QScrollObserver-BHCRt7xm.js";const O=L("img",{state:()=>({list:[],kong:[{title:"洗漱",description:"正常的高中风格",image:"https://s2.loli.net/2025/06/24/WwgBC6ErdusAxNP.jpg",tags:["洗漱","清晨","清爽"],date:"2025-06-01",likes:15},{title:"床",description:"很硬，跟高中一样的住宿",image:"https://s2.loli.net/2025/06/24/vnsRtxuBKaw4IOh.jpg",tags:["睡眠","舒适","休息"],date:"2025-06-15",likes:28},{title:"书桌",description:"跟高中不同的只有多了一个桌子，女生宿舍没有桌子，研究生有上床下桌",image:"https://s2.loli.net/2025/06/24/6ipEIzal1YZCbJG.jpg",tags:["书桌","整洁","工作"],date:"2025-06-20",likes:22}],Canteen:[{title:"食堂",description:"等我更新喵",image:"",tags:["食堂","干净","吃"],date:"2025-06-20",likes:22}]}),actions:{addImg(y){this.list=[...y]}}}),X={class:"row q-col-gutter-md"},ee=["src"],te={class:"text-h6"},ae={class:"text-subtitle2 q-mt-sm"},se={class:"text-h6"},le={class:"col-12 col-md-6"},oe=["src"],ie={class:"col-12 col-md-6 q-pl-md"},ne={class:"text-body1"},de={class:"text-caption text-grey q-mt-md"},re={__name:"img",setup(y){const v=T();U();const l=O(),f=p([...l.list]);B(()=>l.list,i=>{f.value=[...i]});const n=p(""),b=D(()=>n.value?f.value.filter(i=>i.title.toLowerCase().includes(n.value.toLowerCase())||i.description.toLowerCase().includes(n.value.toLowerCase())||i.tags&&i.tags.some(o=>o.toLowerCase().includes(n.value.toLowerCase()))):f.value),h=p(!1),u=p(null);function q(i){u.value=i,h.value=!0}return N(()=>{v.query.type=="Dormitory"?l.addImg(l.kong):v.query.type=="Canteen",l.addImg(l.Canteen)}),j(()=>{v.query.type=="Canteen"?l.addImg(l.kong):l.addImg(l.Canteen)}),(i,o)=>(d(),C(Z,null,{default:a(()=>[e($,{reveal:"",elevated:""},{default:a(()=>[e(G,null,{default:a(()=>[e(g,{flat:"",round:"",dense:"",icon:"menu",class:"q-mr-sm"}),e(F,null,{default:a(()=>o[2]||(o[2]=[s("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo-mono-white.svg"},null,-1)])),_:1}),e(H,null,{default:a(()=>o[3]||(o[3]=[Q("图片展示")])),_:1}),e(g,{flat:"",round:"",dense:"",icon:"whatshot"})]),_:1})]),_:1}),e(A,{modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=t=>n.value=t),placeholder:"搜索图片...",dense:"",outlined:"",class:"q-mb-md"},{append:a(()=>[e(E,{name:"search"})]),_:1},8,["modelValue"]),s("div",X,[(d(!0),w(k,null,x(b.value,(t,m)=>(d(),w("div",{key:m,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[e(I,{class:"my-card"},{default:a(()=>[s("img",{src:t.image,class:"card-image"},null,8,ee),e(_,null,{default:a(()=>[s("div",te,r(t.title),1),s("div",ae,r(t.description),1)]),_:2},1024),t.tags?(d(),C(_,{key:0,class:"q-pt-none"},{default:a(()=>[(d(!0),w(k,null,x(t.tags,(c,V)=>(d(),C(J,{key:V,color:"primary","text-color":"white",size:"sm"},{default:a(()=>[Q(r(c),1)]),_:2},1024))),128))]),_:2},1024)):R("",!0),e(z,{align:"right"},{default:a(()=>[e(g,{flat:"",label:"详情",color:"primary",onClick:c=>q(t)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),e(P,{modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=t=>h.value=t)},{default:a(()=>[e(I,{style:{"min-width":"80vw"}},{default:a(()=>[e(_,{class:"row items-center"},{default:a(()=>{var t;return[s("div",se,r((t=u.value)==null?void 0:t.title),1),e(K),W(e(g,{icon:"close",flat:"",round:"",dense:""},null,512),[[M]])]}),_:1}),e(Y),e(_,{class:"row"},{default:a(()=>{var t,m,c;return[s("div",le,[s("img",{src:(t=u.value)==null?void 0:t.image,class:"full-width",style:{"max-height":"60vh","object-fit":"contain"}},null,8,oe)]),s("div",ie,[s("p",ne,r((m=u.value)==null?void 0:m.description),1),s("div",de," 上传日期: "+r(((c=u.value)==null?void 0:c.date)||"2023-10-01"),1)])]}),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},_e=S(re,[["__scopeId","data-v-530d3507"]]);export{_e as default};
