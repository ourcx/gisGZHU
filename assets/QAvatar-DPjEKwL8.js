import{Q as B,a as W}from"./QScrollObserver-BydbxgdM.js";import{c as O,g as F,i as U,e as P,l as T,r as g,b as a,w as z,y as I,ax as M,h as r,aK as V,aU as N,aq as x,aG as A,M as E,a_ as K,N as j,O as G,Q as k,bd as D}from"./index-DIon9iEZ.js";const Y=O({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:w,emit:h}){const{proxy:{$q:o}}=F(),l=U(T,P);if(l===P)return console.error("QHeader needs to be child of QLayout"),P;const s=g(parseInt(e.heightHint,10)),c=g(!0),b=a(()=>e.reveal===!0||l.view.value.indexOf("H")!==-1||o.platform.is.ios&&l.isContainer.value===!0),y=a(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return c.value===!0?s.value:0;const t=s.value-l.scroll.value.position;return t>0?t:0}),u=a(()=>e.modelValue!==!0||b.value===!0&&c.value!==!0),H=a(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),Q=a(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),C=a(()=>{const t=l.rows.value.top,f={};return t[0]==="l"&&l.left.space===!0&&(f[o.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),t[2]==="r"&&l.right.space===!0&&(f[o.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),f});function d(t,f){l.update("header",t,f)}function S(t,f){t.value!==f&&(t.value=f)}function $({height:t}){S(s,t),d("size",t)}function L(t){H.value===!0&&S(c,!0),h("focusin",t)}z(()=>e.modelValue,t=>{d("space",t),S(c,!0),l.animate()}),z(y,t=>{d("offset",t)}),z(()=>e.reveal,t=>{t===!1&&S(c,e.modelValue)}),z(c,t=>{l.animate(),h("reveal",t)}),z(l.scroll,t=>{e.reveal===!0&&S(c,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const q={};return l.instances.header=q,e.modelValue===!0&&d("size",s.value),d("space",e.modelValue),d("offset",y.value),I(()=>{l.instances.header===q&&(l.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const t=M(w.default,[]);return e.elevated===!0&&t.push(r("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(r(B,{debounce:0,onResize:$})),r("header",{class:Q.value,style:C.value,onFocusin:L},t)}}}),Z=O({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:w,emit:h}){const{proxy:{$q:o}}=F(),l=g(null),s=g(o.screen.height),c=g(e.container===!0?0:o.screen.width),b=g({position:0,direction:"down",inflectionPoint:0}),y=g(0),u=g(N.value===!0?0:V()),H=a(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),Q=a(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),C=a(()=>u.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),d=a(()=>u.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function S(n){if(e.container===!0||document.qScrollPrevented!==!0){const i={position:n.position.top,direction:n.direction,directionChanged:n.directionChanged,inflectionPoint:n.inflectionPoint.top,delta:n.delta.top};b.value=i,e.onScroll!==void 0&&h("scroll",i)}}function $(n){const{height:i,width:m}=n;let v=!1;s.value!==i&&(v=!0,s.value=i,e.onScrollHeight!==void 0&&h("scrollHeight",i),q()),c.value!==m&&(v=!0,c.value=m),v===!0&&e.onResize!==void 0&&h("resize",n)}function L({height:n}){y.value!==n&&(y.value=n,q())}function q(){if(e.container===!0){const n=s.value>y.value?V():0;u.value!==n&&(u.value=n)}}let t=null;const f={instances:{},view:a(()=>e.view),isContainer:a(()=>e.container),rootRef:l,height:s,containerHeight:y,scrollbarWidth:u,totalWidth:a(()=>c.value+u.value),rows:a(()=>{const n=e.view.toLowerCase().split(" ");return{top:n[0].split(""),middle:n[1].split(""),bottom:n[2].split("")}}),header:x({size:0,offset:0,space:!1}),right:x({size:300,offset:0,space:!1}),footer:x({size:0,offset:0,space:!1}),left:x({size:300,offset:0,space:!1}),scroll:b,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(n,i,m){f[n][i]=m}};if(K(T,f),V()>0){let n=function(){v=null,R.classList.remove("hide-scrollbar")},i=function(){if(v===null){if(R.scrollHeight>o.screen.height)return;R.classList.add("hide-scrollbar")}else clearTimeout(v);v=setTimeout(n,300)},m=function(_){v!==null&&_==="remove"&&(clearTimeout(v),n()),window[`${_}EventListener`]("resize",i)},v=null;const R=document.body;z(()=>e.container!==!0?"add":"remove",m),e.container!==!0&&m("add"),A(()=>{m("remove")})}return()=>{const n=E(w.default,[r(W,{onScroll:S}),r(B,{onResize:$})]),i=r("div",{class:H.value,style:Q.value,ref:e.container===!0?void 0:l,tabindex:-1},n);return e.container===!0?r("div",{class:"q-layout-container overflow-hidden",ref:l},[r(B,{onResize:L}),r("div",{class:"absolute-full",style:C.value},[r("div",{class:"scroll",style:d.value},[i])])]):i}}}),p=O({name:"QAvatar",props:{...j,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:w}){const h=G(e),o=a(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),l=a(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const s=e.icon!==void 0?[r(k,{name:e.icon})]:void 0;return r("div",{class:o.value,style:h.value},[r("div",{class:"q-avatar__content row flex-center overflow-hidden",style:l.value},D(w.default,s))])}}});export{p as Q,Z as a,Y as b};
